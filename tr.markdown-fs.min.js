if(TR==undefined){var TR={}}TR.MarkdownFSGlobal=new function(){let a=this;a.Debug=false;a.er=function(){if(a.Debug){console.log("[Markdown] ",arguments)}};a.db="    ";const l="<blockquote>";const J="</blockquote>\n";const x=/(\S*)\s?(\S*)/g;const m=/[<>`&]/g;a.ed=/!\[(.*?)\]\((.*?)\)/g;a.ec=/\[(.*)\](.*)/g;a.cu=/<?(https|http|ftp):\/\/([^\s<)]*?)($|[>\s<])/g;const z=/^\s*\|(.*)\|\s*$/;const h=/^(\s*)[-*+](\s+)(.*)/;const j=/^(\s*)(\d+)[\.\)](\s+)(.*)/;const F="";const K={"<":"&lt;",">":"&gt;","&":"&amp;","*":"&#42;",_:"&#95;","-":"&#45;","`":"&#96;"};a.bz=function O(q){return q.replace(m,function(P){return K[P]})};const B={c:"&copy;",C:"&copy;",r:"&reg;",R:"&reg;",p:"&sect;",P:"&sect;",tm:"&trade;",TM:"&trade;"};let al=0;a.dd=function(q){q.x=q.d.length;q.f=0;q.ak=0;q.aj=0;if(q.x!=0){q.ai=0;if(q.x>2){if((q.d[q.x-2]=="\\")&&(q.d[q.x-3]!="\\")){q.ai=2}if((q.d[q.x-2]==" ")&&(q.d[q.x-3]==" ")){q.ai=3}if((q.d[q.x-2]=="\\")&&(q.d[q.x-3]=="\\")){q.ai=-1}}for(let s=0;s<q.x;s++){q.r=q.d.charCodeAt(s);al=a.bb[q.r];if(al!=undefined){q.f+=al;if(al>0){++q.ak}if(al==0){if(q.f>0){q.aj=((q.f/4)|0)+1}q.bg=s;return}}else{q.bg=s;return}}q.bg=0;q.r=0;al=0}else{q.bg=0;q.r=13}};a.eh=function A(q,Q){Q=Q.replace(/\`+(.*?)\`+/g,function(S,R){q.cr.push("<code>"+a.bz(R)+"</code>");return"¤cod¤"});Q=Q.replace(/\\([<_*-])/g,function(S,R){return K[R]});Q=Q.replace(/\s<\s/g,function(){return K["<"]});Q=Q.replace(/\`{4}(.*?)\`{4}/g,function(S,R){return"<code>"+a.bz(R)+"</code>"});function P(R){let k={};let cd="";k.az="";k.aw="";if(R&&R.length>2){try{R=R.replaceAll(";}","}").replaceAll(";",'","').replaceAll(":",'":"').replaceAll("{",'{"').replaceAll("}",'"}');tObject=JSON.parse(R);if(typeof tObject["text-align"]!="undefined"){cd=";text-align:"+tObject["text-align"];k.aw='style="display:inline-block;width:100%'+cd+'"';delete tObject["text-align"]}R=JSON.stringify(tObject).replaceAll(",",";").replaceAll('"',"");k.az=' style="'+R.substring(1,R.length-1)+'"'}catch(S){console.log("Parsing css to javascript object failed",R)}}return k}Q=Q.replace(/!(.)?\[([^\[]*?)\]\((.*?)\)({(.*?)})?/g,function(W,U,S,V,R){V=V.replace(x,function(Y,Z,X){return Z});const T=P(R);if(U==undefined){if(T.aw!=""){q.bq.push("<span "+T.aw+'><img src="'+V+'" alt="'+S+'"'+T.az+"></span>")}else{q.bq.push('<img src="'+V+'" alt="'+S+'"'+T.az+">")}return"¤img¤"}else{if(U=="v"){if(S==F){S="Your browser does not support the HTML5 Video element."}q.cp.push("<span "+T.aw+'><video controls="controls" src="'+V+'"'+T.az+">"+S+"</video></span>");return"¤vid¤"}else{if(U=="f"){q.cs.push("<span "+T.aw+'><iframe type="text/html" title="'+S+'"'+T.az+' src="'+V+'?enablejsapi=1" frameborder="0" allowfullscreen sandbox="allow-scripts allow-same-origin allow-presentation"></iframe></span>');return"¤ifr¤"}}}});Q=Q.replace(/\[([^\[]*?)\]\((.*?)\)/g,function(U,R,T){let v=F;if(T&&T.length){if(T[0]!="#"){v=' rel="nofollow"'}let w=T.search(/\s/);if(w!=-1){tIndex=w+1+T.substring(w+1).search(/\S/);const S=T[tIndex];if(S!=")"){if(S=='"'||S=="'"){const V=tIndex+1+T.substring(tIndex+1).search(/["']/);v+=" title="+T.substring(tIndex+1,V)}else{v+=' title="'+T.substring(tIndex,T.length)+'"'}}T=T.substring(0,w)}}q.cq.push('<a href="'+T+'"'+v+">"+R+"</a>");return"¤url¤"});Q=Q.replace(a.cu,function(U,R,T,S){let cc=R+"://"+T;if(S==">"){S=F}let v=F;if(T&&T.length&&T[0]!="#"){v=' rel="nofollow"'}return'<a href="'+cc+'"'+v+">"+cc+" </a>"+S});Q=Q.replace(/[_\*][_\*](.*?)[_\*][_\*]/g,function(S,R){return"<strong>"+R+"</strong>"});Q=Q.replace(/[_\*](.*?)[_\*]/g,function(S,R){return"<em>"+R+"</em>"});Q=Q.replace(/\~~(.*?)\~~/g,function(S,R){return"<del>"+R+"</del>"});Q=Q.replace(/\(([cCrRpP]|tm|TM)\)/g,function(S,R){return B[R]});Q=Q.replace(/\+-/g,function(){return"&plusmn;"});Q=Q.replace(/(->|<-|---|--)/g,function(S,R){if(R=="<-"){return"&larr;"}else{if(R=="->"){return"&rarr;"}else{if(R.length==3){return"&mdash;"}else{return"&ndash;"}}}});Q=Q.replace(/\[([x| ])\]/g,function(S,R){let ck="checked ";if(R==" "){ck=F}return'<input type="checkbox" '+ck+"disabled>"});Q=Q.replace(/(!?)\[(.*?)\]\s?\[(.*?)\]/g,function(T,R,U,S){if(S.length==0){S=U}S=S.toLowerCase();if(q.ax[S]==undefined){return R+"["+U+"]["+S+"]"}let at=q.ax[S];if(R=="!"){return'<img src="'+at.dx+'" alt="'+at.title+'">'}let v=F;let g=at.dx;if(at.title!=F){v+=' title="'+at.title+'"'}return'<a href="'+g+'"'+v+">"+U+"</a>"});Q=Q.replaceAll("\n","");let ds=0;let dp=0;let dn=0;let p=0;let n=Q.indexOf("¤");let o="";while(n>-1){let ag=Q.substring(n+1,n+4);o+=Q.substring(p,n);p=n;if(ag=="cod"){o+=q.cr[ds++];p+=5}else{if(ag=="pre"){o+=q.br[dp++];p+=5}else{if(ag=="url"){o+=q.cq[dn++];p+=5}}}n=Q.indexOf("¤",n+5)}o+=Q.substring(p,Q.length);Q=o;let dq=0;let dm=0;let dr=0;p=0;n=Q.indexOf("¤");o="";while(n>-1){let ag=Q.substring(n+1,n+4);o+=Q.substring(p,n);p=n;if(ag=="img"){o+=q.bq[dq++];p+=5}else{if(ag=="vid"){o+=q.cp[dm++];p+=5}else{if(ag=="ifr"){o+=q.cs[dr++];p+=5}}}n=Q.indexOf("¤",n+5)}o+=Q.substring(p,Q.length);Q=o;return Q};a.em=function(q){if(q.ac>0){do{if(q.bf!=""){q.l+="<p>";a.j(q,"</p>"+J)}else{a.j(q,J)}}while(--q.ac>0)}};a.dg=function L(q){if(q.u){q.u=0;a.j(q,"</tbody></table>",false)}};a.j=function t(q,Q,P){q.l+=q.bf;if(Q!=undefined){q.l+=Q}q.bf=""};a.en=function(q,P){if(q.af){q.bf+="\n"}};a.dh=function D(q,P){let an=0;do{let c=(/^\s*\>\s*(.*)/).exec(P.d);if(c==null){break}else{P.d=c[1];++an}}while(1);if(an>0){q.bj=true;if((an-q.ac)>0){for(;q.ac<an;++q.ac){a.j(q,l)}}else{if((q.ac-an)>0){for(;q.ac>an;--q.ac){a.j(q,J)}}}a.dd(P);q.cn=true;return false}if(q.bj){a.ca(q,P)}};a.ca=function C(q,P){a.de(q,P);a.em(q)};a.bi=function E(q,P){if(P.d!=F){let c=(/(```|~~~)(.*)/).exec(P.d);if(c!=null){if(!q.af){q.af=true;a.j(q);q.ci=c[2]}else{q.af=false;q.bf=q.aa.df.call(a,q.bf,q.ci);q.br.push(q.bf);q.bf="¤pre¤\n";a.j(q)}return true}}return false};a.bh=function I(q,P){if((P.f-q.h)>=4){let dk=q.h+4;P.d=P.d.replace(/\t/g,a.db);if(!q.ar){q.ar=true;a.j(q)}q.bf+=P.d.slice(dk,P.d.length)+"\n";return true}a.de(q,P);return false};a.de=function N(q,P){if(q.ar){q.ar=false;q.bf=q.aa.df.call(a,q.bf,F);q.br.push(q.bf);q.bf="¤pre¤\n";a.j(q)}};a.cx=function G(q,P){let c=(/^[=-]{3}[=-]+/).test(P.d);if(c){if(P.d[0]=="="){q.l+="<H1>";a.j(q,"</H1>\n")}else{if(P.d[0]=="-"){q.l+="<H2>";a.j(q,"</H2>\n")}}return true}return false};a.cy=function r(q,P){let c=(/^\s*(#+)\s+([^#]*)(#*)/).exec(P.d);if(c!=null){c[2]=c[2].trim();if(!q.ah&&(P.f<q.h||(P.f==0))){a.ba(q,P.f)}let dt=c[1].length;let bd={};bd.dc=true;let dw=q.aa.el.call(q,dt,c[2],bd);q.bk=bd.dc;if(bd.dc==true){a.j(q,dw);q.dj=true}else{}return true}return false};a.da=function d(q,P){let c=z.exec(P.d);if(c!=null){if(q.u==0){a.j(q,"<table><thead><tr>")}else{a.j(q,"<tr>")}let cj=false;let cl=c[1].split("|");for(let y=0;y<cl.length;y++){let ao=cl[y];ao=ao.trim();if(q.u==0){q.l+="<th>";q.bf+=ao;a.j(q,"</th>")}else{if(q.u==1){ao.replace(/^(:*)-+(:*)$/,function(S,R,Q){if(R!=""){if(Q!=""){q.ae[y]=0}else{q.ae[y]=1}}else{if(Q!=""){q.ae[y]=2}else{q.ae[y]=3}}cj=true});if(cj){continue}}let k="";if(q.ae[y]==0){k=' style="text-align:center;"'}else{if(q.ae[y]==1){k=' style="text-align:left;"'}else{if(q.ae[y]==2){k=' style="text-align:right;"'}}}q.l+="<td"+k+">";q.bf+=ao;a.j(q,"</td>")}}if(q.u==0){q.l+="</tr></thead><tbody>";q.u=1}else{q.u=2;a.j(q,"</tr>")}q.au=a.da;return true}a.dg(q);return false};a.dg=function L(q){if(q.u>0){q.u=0;a.j(q,"</tbody></table>",false)}};a.bw=function(q,P){let c=h.exec(P.d);if(c!=null){return true}return false};a.bx=function M(q,P){let c=h.exec(P.d);if(c!=null){q.ah=false;P.f-=1;P.f+=c[2].length;let av=false;if(P.f>q.h){q.h=P.f;if((q.h+1)>q.ay){q.ay=q.h+1}}else{if(P.f<q.h){av=true;q.h=P.f}}if(q.t[q.h]&2048||av){a.ba(q,P.f)}if(q.t[q.h]==0){q.t[q.h]=32768;q.l+="<ul>\n"}else{q.bf+="</li>\n";a.j(q)}q.l+="<li>\n";q.l+=c[3];return true}return false};a.ei=function(q,P){let c=j.exec(P.d);if(c!=null){return true}return false};a.ej=function f(q,P){let c=j.exec(P.d);if(c!=null){q.ah=false;let av=false;P.f+=c[2].length;P.f-=1;P.f+=c[3].length;if(P.f>q.h){q.h=P.f;if((q.h+1)>q.ay){q.ay=q.h+1}}else{if(P.f<q.h){av=true;q.h=P.f}}if(q.t[q.h]&32768||av){a.ba(q,P.h)}if(q.t[q.h]==0){q.t[q.h]=2048;q.l+="<ol start="+c[2]+">\n"}else{q.bf+="</li>\n";a.j(q)}q.l+="<li>\n";q.bf+=c[4];return true}return false};a.ba=function u(q,P){if(!q.ah){let be=q.ay;while(be-->P){if(q.t[be]!=0){if(q.t[be]&2048){a.j(q,"</li>\n</ol>\n")}else{a.j(q,"</li>\n</ul>\n")}q.t[be]=0}}if(P==0){q.ah=true;q.h=0}}};a.ek=function H(q,P){let c=(/\[(.*?)\]:\s+(.*)/).exec(P.d);if(c!=null){if(c.length>2){const R=c[2];let w=R.search(/\s/);if(w!=-1){tIndex=w+1+R.substring(w+1).search(/\S/);const Q=R[tIndex];if(Q!=")"){if(Q=='"'||Q=="'"||Q=="("){const S=tIndex+1+R.substring(tIndex+1).search(/["')]/);q.ax[c[1].toLowerCase()]={link:R.substring(0,w),title:R.substring(tIndex+1,S)}}else{q.ax[c[1].toLowerCase()]={link:R.substring(0,w),title:R.substring(tIndex,R.length)}}return true}}}q.ax[c[1].toLowerCase()]={link:c[2],title:F};tConvertURL=false;return true}return false};a.by=function(q,P){let c=(/^[\*-]\s[\*-]\s[\*-]/).exec(P.d);if(c!=null){q.l+="<hr>";return true}c=(/^[\*_-]{3}/).exec(P.d);if(c!=null){q.l+="<hr>";return true}return false};a.aq=256;a.bb=new Array(a.aq);a.m=new Array(a.aq);a.bc=new Array(a.aq);a.ap=new Array(a.aq);for(let s=a.aq;s--;){a.bb[s]=0;a.m[s]=undefined;a.bc[s]=undefined;a.ap[s]=undefined}function i(q){return q.charCodeAt(0)}a.cm=i(" ");a.bn=i("*");a.bp=i("-");a.bo=i("+");a.cb=i("0");a.co=i("9");a.bb[i("\t")]=4;a.bb[i(" ")]=1;a.m[13]=a.en;a.m[i("=")]=a.cx;a.m[a.bp]=[a.by,a.cx,a.bx];a.m[i("_")]=a.by;a.bc[i("~")]=a.bi;a.bc[i("`")]=a.bi;a.m[i("~")]=a.bi;a.m[i("`")]=a.bi;a.m[a.cm]=a.bh;a.m[i("#")]=a.cy;a.di=i(">");a.m[a.di]=a.dh;a.m[i("|")]=a.da;a.m[a.bn]=[a.by,a.bx];a.m[a.bo]=a.bx;a.ap[a.bn]=a.bw;a.ap[a.bo]=a.bw;a.ap[a.bp]=a.bw;let dy=a.co;for(let bf=a.cb;bf<=dy;bf++){a.ap[bf]=a.ei;a.m[bf]=a.ej}a.m[i("[")]=a.ek};TR.MarkdownFS=function(d){let a=this;a.aa={};a.aa.cz=false;a.aa.df=function(f,h){return"<pre>"+TR.MarkdownFSGlobal.bz(f)+"</pre>"};a.aa.el=function(h,i,f){return"<H"+h+this.eg(i)+">"+i+"</H"+h+">\n"};a.ch=100;a.ay=2;a.t=new Array(a.ch);if(d){let a=this;for(let key in d){a.aa[key]=d[key]}}};TR.MarkdownFS.prototype.eg=function(d){let e=TR.MarkdownFSGlobal;d=d.replace(e.ed,function(f,i,h){return e.q});d=d.replace(e.cu,function(){return e.q});if(d==e.q){return d}d=d.replace(e.ec,function(h,f){return f});d=d.replace(/\\</g,function(){return"<"});d=d.replace(/\s/g,"-");return' id="'+d.toLowerCase()+'"'};TR.MarkdownFS.prototype.toHtml=function(d){let a=this;a.af=false;a.ar=false;a.bk=true;a.l="";a.au=null;a.eo=false;a.bf="";a.cr=[];a.br=[];a.cq=[];a.bq=[];a.cp=[];a.cs=[];a.ah=true;for(let ct=a.ch;ct--;){a.t[ct]=0}a.bj=false;a.u=0;a.h=0;a.ac=0;a.dj=false;a.ae={};a.ci="";a.ax={};let ce;if(a.aa.cz){ce=performance.now()}let cg=d.split("\n");let e=TR.MarkdownFSGlobal;let cf=0;let dl=cg.length;let bm=false;let b={};let as=0;let am=0;let ab;let eq;let ep=false;for(let bs=0;bs<dl;bs++){b.d=cg[bs];e.dd(b);if(a.bk){if(a.ar){if(e.bh(a,b)){continue}}if(!a.af){if(b.r!=13){if(b.r==e.di){a.au=e.dh}if(e.bh(a,b)){continue}if(b.r==e.bn||b.r==e.bp||b.r==e.bo||(b.r>=e.cb&&b.r<=e.co)){if(b.d.charCodeAt(b.bg+1)==e.cm){b.f+=2}}if(!a.ah&&((b.f<a.h)&&(b.f!=(a.h-2))||(b.f==0))){e.ba(a,b.f)}}else{if(a.bj){e.ca(a,b)}}}if(a.au!=null){a.cn=false;if((a.au(a,b))){as=b.aj;am=b.ak;continue}else{if(a.cn){if(e.bh(a,b)){continue}}}}}if(a.af){ab=e.bc[b.r]}else{ab=e.m[b.r]}if(!a.bk){if(ab!=e.cy){continue}}if(ab!=undefined){if(Array.isArray(ab)){bm=false;cf=ab.length;for(let bt=0;bt<cf;bt++){if(ab[bt](a,b)){bm=true;as=b.aj;am=b.ak;break}}if(bm){continue}}else{if(ab(a,b)){as=b.aj;am=b.ak;continue}}}a.au=null;if(a.af){b.d=b.d.replace(/\t/g,e.db);if(am<=b.ak){a.bf+=b.d.slice(am,b.d.length)+"\n"}else{a.bf+=b.d+"\n"}}else{if(b.r==13){if(a.bf!=""){if(!a.ah&&(b.f<a.h||(b.f==0))){e.j(a)}else{a.l+="<p>";e.j(a,"</p>\n")}}}else{if(as!=b.aj){if(a.bf!=""){a.l+="<p>";e.j(a,"</p>\n")}a.bf+=b.d+" ";as=b.aj;am=b.ak}else{if(b.ai==0){a.bf+=b.d+" "}else{if(b.ai>0){a.bf+=b.d.substring(0,b.d.length-b.ai)+"<br>"}else{a.bf+=b.d.substring(0,b.d.length-+b.ai)+" "}}}}}}b.x=0;b.f=0;b.ak=0;b.aj=0;b.d="";e.ca(a,b);e.j(a,"");e.ba(a,0);if(a.aa.cz){let du=performance.now();let dv=du-ce;console.log("[Markdown] ","Parse Markdown: ",dv,"ms")}return e.eh(a,a.l)};